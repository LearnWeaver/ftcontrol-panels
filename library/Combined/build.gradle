plugins {
    id 'com.android.library'
    id 'org.jetbrains.kotlin.android'
    id 'maven-publish'
}

apply plugin: 'com.android.library'

android {
    namespace 'com.bylazar.fullpanels'

    compileSdk 35
    defaultConfig {
        minSdk 24
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = '11'
    }
}

dependencies {
    api project(':Panels')
    api project(':OpModeControl')
    api project(':ExamplePlugin')
    api project(':Telemetry')
    api project(':Configurables')
    api project(':Themes')
    api project(':Capture')
    api project(':LimelightProxy')
}

afterEvaluate {
    publishing {
        publications {
            release(MavenPublication) {
                from components.release

                groupId = 'com.bylazar'
                artifactId = 'fullpanels'
                version = '0.0.3'

                pom {
                    description = "All in one toolbox dashboard for FTC with core plugins."
                    name = "Full Panels"
                    url = "https://panels.bylazar.com"
                    developers {
                        developer {
                            id = "lazar"
                            name = "Lazar Dragos George"
                            email = "hi@bylazar.com"
                        }
                    }
                }
            }
        }

        repositories {
            maven {
                name = "localDevRepo"
                url = uri("file://C:/Users/lazar/Documents/GitHub/ftcontrol-maven/dev")
            }
        }
    }
}
